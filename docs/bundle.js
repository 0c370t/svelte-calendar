var SvelteCalendar=function(){"use strict";function e(e,t){var n=arguments;if(null==e)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),r=1;r<arguments.length;r++){var o=n[r];if(null!=o)for(var a=Object.keys(Object(o)),s=0,h=a.length;s<h;s++){var c=a[s],l=Object.getOwnPropertyDescriptor(o,c);void 0!==l&&l.enumerable&&(i[c]=o[c])}}return i}var t=function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})};function n(){}function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e,t){for(var n in t)e[n]=1;return e}function o(e,t){return 0===t&&e(),function(){--t||e()}}function a(e){e()}function s(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n)}function c(e){e.parentNode.removeChild(e)}function l(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function d(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function u(){return document.createDocumentFragment()}function f(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function m(e,t,n,i){e.addEventListener(t,n,i)}function v(e,t,n,i){e.removeEventListener(t,n,i)}function p(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){e.data=""+t}function b(e,t,n){e.style.setProperty(t,n)}function _(e,t,n){e.classList[n?"add":"remove"](t)}function k(){return Object.create(null)}function D(e){e._lock=!0,w(e._beforecreate),w(e._oncreate),w(e._aftercreate),e._lock=!1}function M(e,t){e._handlers=k(),e._slots=k(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function w(e){for(;e&&e.length;)e.shift()()}var O={destroy:function(e){this.destroy=n,this.fire("destroy"),this.set=n,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var r=n[i];if(!r.__calling)try{r.__calling=!0,r.call(this,t)}finally{r.__calling=!1}}},on:function(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){this._set(i({},e)),this.root._lock||D(this.root)},_recompute:n,_set:function(e){var t=this._state,n={},r=!1;for(var o in e=i(this._staged,e),this._staged={},e)this._differs(e[o],t[o])&&(n[o]=r=!0);r&&(this._state=i(i({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))},_stage:function(e){i(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}},S=[{name:"January",abbrev:"Jan"},{name:"February",abbrev:"Feb"},{name:"March",abbrev:"Mar"},{name:"April",abbrev:"Apr"},{name:"May",abbrev:"May"},{name:"June",abbrev:"Jun"},{name:"July",abbrev:"Jul"},{name:"August",abbrev:"Aug"},{name:"September",abbrev:"Sep"},{name:"October",abbrev:"Oct"},{name:"November",abbrev:"Nov"},{name:"December",abbrev:"Dec"}],C=[{name:"Sunday",abbrev:"Sun"},{name:"Monday",abbrev:"Mon"},{name:"Tuesday",abbrev:"Tue"},{name:"Wednesday",abbrev:"Wed"},{name:"Thursday",abbrev:"Thu"},{name:"Friday",abbrev:"Fri"},{name:"Saturday",abbrev:"Sat"}],N=function(e,t,n){var i=new Date(t,e,1);i.setDate(i.getDate()-i.getDay());for(var r=11==e?0:e+1,o=[];i.getMonth()!=r||0!=i.getDay()||6!=o.length;)0==i.getDay()&&o.unshift({days:[]}),o[0].days.push(Object.assign({},{partOfMonth:i.getMonth()==e,date:new Date(i)},n(i))),i.setDate(i.getDate()+1);return o.reverse(),{month:e,year:t,weeks:o}},x=function(e,t,n){var i=new Date;return i.setHours(0,0,0,0),function(r){return{selectable:r>=e&&r<=t&&(!n||n(r)),isToday:r.getTime()==i.getTime()}}};var T=function(e,t){return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()},H=function(e,t,n){return e.replace(new RegExp("#{"+t+"}","g"),n)},I=function(e,t,n){if(e=e.toString(),void 0===t)return e;if(e.length==t)return e;if(n=void 0!==n&&n,e.length<t)for(;t-e.length>0;)e="0"+e;else e.length>t&&(e=n?e.substring(e.length-t):e.substring(0,t));return e},Y={daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"]},j=[{key:"d",method:function(e){return I(e.getDate(),2)}},{key:"D",method:function(e){return I(Y.daysOfWeek[e.getDay()],3)}},{key:"j",method:function(e){return e.getDate()}},{key:"l",method:function(e){return Y.daysOfWeek[e.getDay()]}},{key:"F",method:function(e){return Y.monthsOfYear[e.getMonth()]}},{key:"m",method:function(e){return I(e.getMonth()+1,2)}},{key:"M",method:function(e){return I(Y.monthsOfYear[e.getMonth()],3)}},{key:"n",method:function(e){return e.getMonth()+1}},{key:"Y",method:function(e){return e.getFullYear()}},{key:"y",method:function(e){return I(e.getFullYear(),2,!0)}}],F=[{key:"a",method:function(e){return e.getHours()>11?"pm":"am"}},{key:"A",method:function(e){return e.getHours()>11?"PM":"AM"}},{key:"g",method:function(e){return e.getHours()%12||12}},{key:"G",method:function(e){return e.getHours()}},{key:"h",method:function(e){return I(e.getHours()%12||12,2)}},{key:"H",method:function(e){return I(e.getHours(),2)}},{key:"i",method:function(e){return I(e.getMinutes(),2)}},{key:"s",method:function(e){return I(e.getSeconds(),2)}}],z=function(e,t){return void 0===t&&(t="#{m}/#{d}/#{Y}"),j.forEach(function(n){-1!=t.indexOf("#{"+n.key+"}")&&(t=H(t,n.key,n.method(e)))}),F.forEach(function(n){-1!=t.indexOf("#{"+n.key+"}")&&(t=H(t,n.key,n.method(e)))}),t},E={left:37,up:38,right:39,down:40,pgup:33,pgdown:34,enter:13,escape:27,tab:9},L=Object.keys(E).map(function(e){return E[e]});function A(e){var t=this._svelte,n=t.component,i=t.ctx;n.fire("dateSelected",i.day.date)}function W(e,t,n){var i=Object.create(e);return i.day=t[n],i}function V(e,t){var n,i,r,o,a=t.day.date.getDate();return{c:function(){n=f("div"),i=f("button"),r=g(a),o=g("\r\n    "),i._svelte={component:e,ctx:t},m(i,"click",A),i.className="day--label svelte-l2cm0g",_(i,"selected",T(t.day.date,t.selected)),_(i,"highlighted",T(t.day.date,t.highlighted)),_(i,"shake-date",t.shakeDate&&T(t.day.date,t.shakeDate)),_(i,"disabled",!t.day.selectable),n.className="day svelte-l2cm0g",_(n,"outside-month",!t.day.partOfMonth),_(n,"is-today",t.day.isToday),_(n,"is-disabled",!t.day.selectable)},m:function(e,t){h(e,n,t),s(n,i),s(i,r),s(n,o)},p:function(e,o){t=o,e.days&&a!==(a=t.day.date.getDate())&&y(r,a),i._svelte.ctx=t,(e.days||e.selected)&&_(i,"selected",T(t.day.date,t.selected)),(e.days||e.highlighted)&&_(i,"highlighted",T(t.day.date,t.highlighted)),(e.shakeDate||e.days)&&_(i,"shake-date",t.shakeDate&&T(t.day.date,t.shakeDate)),e.days&&(_(i,"disabled",!t.day.selectable),_(n,"outside-month",!t.day.partOfMonth),_(n,"is-today",t.day.isToday),_(n,"is-disabled",!t.day.selectable))},d:function(e){e&&c(n),v(i,"click",A)}}}function J(e){M(this,e),this._state=i({},e.data),this._intro=!!e.intro,this._fragment=function(e,t){for(var n,i,r=t.days,o=[],s=0;s<r.length;s+=1)o[s]=V(e,W(t,r,s));return{c:function(){n=f("div");for(var e=0;e<o.length;e+=1)o[e].c();n.className="week svelte-l2cm0g"},m:function(e,t){h(e,n,t);for(var r=0;r<o.length;r+=1)o[r].m(n,null);i=!0},p:function(t,i){if(t.days||t.selected||t.highlighted||t.shakeDate){r=i.days;for(var a=0;a<r.length;a+=1){var s=W(i,r,a);o[a]?o[a].p(t,s):(o[a]=V(e,s),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=r.length}},i:function(e,t){i||this.m(e,t)},o:a,d:function(e){e&&c(n),d(o,e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor)),this._intro=!0}function P(e,t,n){var i=Object.create(e);return i.week=t[n],i}function X(e,t){var n,i={days:t.week.days,selected:t.selected,start:t.start,end:t.end,highlighted:t.highlighted,shakeDate:t.shakeDate},r=new J({root:e.root,store:e.store,data:i});return r.on("dateSelected",function(t){e.fire("dateSelected",t)}),{c:function(){r._fragment.c()},m:function(e,t){r._mount(e,t),n=!0},p:function(e,t){var n={};e.visibleMonth&&(n.days=t.week.days),e.selected&&(n.selected=t.selected),e.start&&(n.start=t.start),e.end&&(n.end=t.end),e.highlighted&&(n.highlighted=t.highlighted),e.shakeDate&&(n.shakeDate=t.shakeDate),r._set(n)},i:function(e,t){n||this.m(e,t)},o:function(e){n&&(r&&r._fragment.o(e),n=!1)},d:function(e){r.destroy(e)}}}function q(e){M(this,e),this._state=i({monthDict:S},e.data),this._intro=!!e.intro,this._fragment=function(e,t){for(var n,i,r=t.visibleMonth.weeks,a=[],s=0;s<r.length;s+=1)a[s]=X(e,P(t,r,s));function l(e,t,n){a[e]&&a[e].o(function(){t&&(a[e].d(t),a[e]=null),n&&n()})}return{c:function(){n=f("div");for(var e=0;e<a.length;e+=1)a[e].c();n.className="month-container svelte-m2exrs"},m:function(e,t){h(e,n,t);for(var r=0;r<a.length;r+=1)a[r].i(n,null);i=!0},p:function(t,i){if(t.visibleMonth||t.selected||t.start||t.end||t.highlighted||t.shakeDate){r=i.visibleMonth.weeks;for(var o=0;o<r.length;o+=1){var s=P(i,r,o);a[o]?a[o].p(t,s):(a[o]=X(e,s),a[o].c()),a[o].i(n,null)}for(;o<a.length;o+=1)l(o,1)}},i:function(e,t){i||this.m(e,t)},o:function(e){if(i){for(var t=o(e,(a=a.filter(Boolean)).length),n=0;n<a.length;n+=1)l(n,0,t);i=!1}},d:function(e){e&&c(n),d(a,e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),D(this)),this._intro=!0}i(J.prototype,O),i(q.prototype,O);function B(e){var t=this._svelte,n=t.component,i=t.ctx;n.monthSelected(e,i.index)}function K(e,t,n){var i=Object.create(e);return i.monthDefinition=t[n],i.index=n,i}function R(e,t){var n,i,r,o,a=t.monthDefinition.abbrev;return{c:function(){n=f("div"),i=f("span"),r=g(a),o=g("\r\n      "),i.className="svelte-1yho41z",n._svelte={component:e,ctx:t},m(n,"click",B),n.className="month-selector--month svelte-1yho41z",_(n,"selected",t.index==t.month),_(n,"selectable",t.monthDefinition.selectable)},m:function(e,t){h(e,n,t),s(n,i),s(i,r),s(n,o)},p:function(e,i){t=i,e.availableMonths&&a!==(a=t.monthDefinition.abbrev)&&y(r,a),n._svelte.ctx=t,e.month&&_(n,"selected",t.index==t.month),e.availableMonths&&_(n,"selectable",t.monthDefinition.selectable)},d:function(e){e&&c(n),v(n,"click",B)}}}function G(e){M(this,e),this._state=i({monthDict:S,monthSelectorOpen:!1},e.data),this._recompute({monthDict:1,start:1,end:1,year:1},this._state),this._intro=!!e.intro,this._fragment=function(e,t){var n,i,r,o,l,u,p,b,k,D,M,w,O,S=t.monthDict[t.month].name;function C(t){e.fire("incrementMonth",-1)}function N(t){e.toggleMonthSelectorOpen()}function x(t){e.fire("incrementMonth",1)}for(var T=t.availableMonths,H=[],I=0;I<T.length;I+=1)H[I]=R(e,K(t,T,I));return{c:function(){n=f("div"),i=f("div"),(r=f("div")).innerHTML='<i class="arrow left svelte-1yho41z"></i>',o=g("\r\n    "),l=f("div"),u=g(S),p=g(" "),b=g(t.year),k=g(" \r\n    "),(D=f("div")).innerHTML='<i class="arrow right svelte-1yho41z"></i>',M=g("\r\n  "),w=f("div");for(var e=0;e<H.length;e+=1)H[e].c();m(r,"click",C),r.className="control svelte-1yho41z",_(r,"enabled",t.canDecrementMonth),m(l,"click",N),l.className="label svelte-1yho41z",m(D,"click",x),D.className="control svelte-1yho41z",_(D,"enabled",t.canIncrementMonth),i.className="heading-section svelte-1yho41z",w.className="month-selector svelte-1yho41z",_(w,"open",t.monthSelectorOpen),n.className="title"},m:function(e,t){h(e,n,t),s(n,i),s(i,r),s(i,o),s(i,l),s(l,u),s(l,p),s(l,b),s(i,k),s(i,D),s(n,M),s(n,w);for(var a=0;a<H.length;a+=1)H[a].m(w,null);O=!0},p:function(t,n){if(t.canDecrementMonth&&_(r,"enabled",n.canDecrementMonth),(t.monthDict||t.month)&&S!==(S=n.monthDict[n.month].name)&&y(u,S),t.year&&y(b,n.year),t.canIncrementMonth&&_(D,"enabled",n.canIncrementMonth),t.month||t.availableMonths){T=n.availableMonths;for(var i=0;i<T.length;i+=1){var o=K(n,T,i);H[i]?H[i].p(t,o):(H[i]=R(e,o),H[i].c(),H[i].m(w,null))}for(;i<H.length;i+=1)H[i].d(1);H.length=T.length}t.monthSelectorOpen&&_(w,"open",n.monthSelectorOpen)},i:function(e,t){O||this.m(e,t)},o:a,d:function(e){e&&c(n),v(r,"click",C),v(l,"click",N),v(D,"click",x),d(H,e)}}}(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor)),this._intro=!0}function Q(e){if(this.get().open){var t=e.target;do{if(t==this.refs.popover)return}while(t=t.parentNode);this.close()}}i(G.prototype,O),i(G.prototype,{toggleMonthSelectorOpen:function(){var e=this.get().monthSelectorOpen;e=!e,this.set({monthSelectorOpen:e})},monthSelected:function(e,t){e.stopPropagation(),this.fire("monthSelected",t),this.toggleMonthSelectorOpen()}}),G.prototype._recompute=function(e,t){var n,i,r,o;(e.monthDict||e.start||e.end||e.year)&&this._differs(t.availableMonths,t.availableMonths=(i=(n=t).monthDict,r=n.start,o=n.end,n.year,i.map(function(e,t){return Object.assign({},e,{selectable:t>=r.getMonth()&&t<=o.getMonth()})})))&&(e.availableMonths=!0)};var U={getDistanceToEdges:function(){var e=this.get().open;e||this.set({open:!0});var t=this.get(),n=t.translateX,i=t.translateY,r=this.refs.contentsWrapper,o=(r.offsetWidth,r.offsetHeight,r.getBoundingClientRect());return e||this.set({open:!1}),{top:o.top+-1*i,bottom:window.innerHeight-o.bottom+i,left:o.left+-1*n,right:document.body.clientWidth-o.right+n}},getTranslate:function(){var e,t=this.get().w,n=this.getDistanceToEdges();return e=t<480?n.bottom:n.top<0?Math.abs(n.top):n.bottom<0?n.bottom:0,{translateX:n.left<0?Math.abs(n.left):n.right<0?n.right:0,translateY:e}},open:function(){this.set(Object.assign({},{open:!0},this.getTranslate())),this.fire("opened")},close:function(){var e=this;this.set({shrink:!0}),function(e,t,n){e.addEventListener(t,function i(){n.apply(this,arguments),e.removeEventListener(t,i)})}(this.refs.contentsAnimated,"animationend",function(){e.set({shrink:!1,open:!1}),e.fire("closed")})}};function Z(){document.removeEventListener("click",Q)}function $(e){var t=this;M(this,e),this.refs={},this._state=i({open:!1,shrink:!1,translateY:0,translateX:0},e.data),this._state.w=window.innerWidth,this._intro=!!e.intro,this._handlers.destroy=[Z],this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,r,o,d,u,p,y=e._slotted.trigger,k=e._slotted.contents;function D(t){e.set({w:this.innerWidth})}function M(t){e.open()}return window.addEventListener("resize",D),{c:function(){n=f("div"),i=f("div"),r=g("\r\n  "),o=f("div"),d=f("div"),u=f("div"),m(i,"click",M),i.className="trigger",u.className="contents-inner svelte-1qphhwy",d.className="contents svelte-1qphhwy",o.className="contents-wrapper svelte-1qphhwy",b(o,"transform","translate(-50%,-50%) translate("+t.translateX+"px, "+t.translateY+"px)"),_(o,"visible",t.open),_(o,"shrink",t.shrink),n.className="popover svelte-1qphhwy"},m:function(t,a){h(t,n,a),s(n,i),y&&s(i,y),e.refs.triggerContainer=i,s(n,r),s(n,o),s(o,d),s(d,u),k&&s(u,k),e.refs.contentsAnimated=d,e.refs.contentsWrapper=o,e.refs.popover=n,p=!0},p:function(e,t){(e.translateX||e.translateY)&&b(o,"transform","translate(-50%,-50%) translate("+t.translateX+"px, "+t.translateY+"px)"),e.open&&_(o,"visible",t.open),e.shrink&&_(o,"shrink",t.shrink)},i:function(e,t){p||this.m(e,t)},o:a,d:function(t){window.removeEventListener("resize",D),t&&c(n),y&&l(i,y),v(i,"click",M),e.refs.triggerContainer===i&&(e.refs.triggerContainer=null),k&&l(u,k),e.refs.contentsAnimated===d&&(e.refs.contentsAnimated=null),e.refs.contentsWrapper===o&&(e.refs.contentsWrapper=null),e.refs.popover===n&&(e.refs.popover=null)}}}(this,this._state),this.root._oncreate.push(function(){(function(){document.addEventListener("click",Q.bind(this));var e=this.get().trigger;e&&this.refs.triggerContainer.appendChild(e.parentNode.removeChild(e))}).call(t),t.fire("update",{changed:r({},t._state),current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),D(this)),this._intro=!0}function ee(e){return function(e,t,n){void 0===n&&(n=null),e.setHours(0,0,0,0),t.setHours(0,0,0,0);for(var i=new Date(t.getFullYear(),t.getMonth()+1,1),r=[],o=new Date(e.getFullYear(),e.getMonth(),1),a=x(e,t,n);o<i;)r.push(N(o.getMonth(),o.getFullYear(),a)),o.setMonth(o.getMonth()+1);return r}(e.start,e.end,e.selectableCallback)}i($.prototype,O),i($.prototype,U),(new Date).setHours(0,0,0,0);var te={changeMonth:function(e){this.set({month:e})},incrementMonth:function(e,t){var n=this.get(),i=n.canIncrementMonth,r=n.canDecrementMonth,o=n.month,a=n.year;if((1!=e||i)&&(-1!=e||r)){var s=new Date(a,o,1);s.setMonth(s.getMonth()+e),o=s.getMonth(),a=s.getFullYear();var h=new Date(a,o,t||1);this.set({highlighted:h,month:o,year:a})}},getDefaultHighlighted:function(){return new Date(this.get().selected)},incrementDayHighlighted:function(e){var t=this.get(),n=t.highlighted,i=(t.visibleMonth,t.firstVisibleDate),r=t.lastVisibleDate;return(n=new Date(n)).setDate(n.getDate()+e),e>0&&n>r?this.incrementMonth(1,n.getDate()):e<0&&n<i?this.incrementMonth(-1,n.getDate()):void this.set({highlighted:n})},handleKeyPress:function(e){if(-1!=L.indexOf(e.keyCode))switch(e.preventDefault(),e.keyCode){case E.left:this.incrementDayHighlighted(-1);break;case E.up:this.incrementDayHighlighted(-7);break;case E.right:this.incrementDayHighlighted(1);break;case E.down:this.incrementDayHighlighted(7);break;case E.pgup:this.incrementMonth(-1);break;case E.pgdown:this.incrementMonth(1);break;case E.escape:this.close();break;case E.enter:var t=this.get().highlighted;this.registerSelection(t)}},close:function(){this.refs.popover.close()},getDay:function(e,t){for(var n=0;n<e.weeks.length;++n)for(var i=0;i<e.weeks[n].days.length;++i)if(T(e.weeks[n].days[i].date,t))return e.weeks[n].days[i];return null},checkIfVisibleDateIsSelectable:function(e){var t=this.get().visibleMonth,n=this.getDay(t,e);return!!n&&n.selectable},shakeDate:function(e){var t=this,n=this.get().shakeHighlightTimeout;clearTimeout(n),this.set({shakeDate:e,shakeHighlightTimeout:setTimeout(function(){return t.set({shakeDate:!1})},700)})},registerSelection:function(e){if(console.log(e),!this.checkIfVisibleDateIsSelectable(e))return this.shakeDate(e);this.close(),this.set({selected:e,dateChosen:!0});var t=this.get(),n=t.trigger,i=t.formattedSelected;this.assignValueToTrigger(n,i)},assignValueToTrigger:function(e,t){e&&this.get().assignmentHandler(e,t)},registerOpen:function(){var e=this.get().selected,t=this.handleKeyPress.bind(this);this.set({keydownListener:t,highlighted:this.getDefaultHighlighted(),month:e.getMonth(),year:e.getFullYear()}),document.addEventListener("keydown",t)},registerClose:function(){var e=this.get().keydownListener;document.removeEventListener("keydown",e)}};function ne(e,t,n){var i=Object.create(e);return i.day=t[n],i}function ie(e,t){var n,i;return{c:function(){n=f("button"),i=g(t.formattedSelected),n.className="calendar-button svelte-5nhzsm"},m:function(e,t){h(e,n,t),s(n,i)},p:function(e,t){e.formattedSelected&&y(i,t.formattedSelected)},d:function(e){e&&c(n)}}}function re(e,t){var n,i,r=t.day.abbrev;return{c:function(){n=f("span"),i=g(r),n.className="svelte-5nhzsm"},m:function(e,t){h(e,n,t),s(n,i)},p:function(e,t){e.dayDict&&r!==(r=t.day.abbrev)&&y(i,r)},d:function(e){e&&c(n)}}}function oe(e){var t,n=this;M(this,e),this.refs={},this._state=i({today:t=new Date,dayDict:C,format:"#{m}/#{d}/#{Y}",start:new Date(1987,9,29),end:new Date(2020,9,29),selected:t,highlighted:t,shakeDate:!1,dateChosen:!1,month:t.getMonth(),year:t.getFullYear(),trigger:null,selectableCallback:null,assignmentHandler:function(e,t){e.innerHTML=t}},e.data),this._recompute({start:1,end:1,selectableCallback:1,month:1,year:1,months:1,monthIndex:1,visibleMonth:1,selected:1,format:1},this._state),this._intro=!!e.intro,this._slotted=e.slots||{},this._fragment=function(e,t){var n,i,r,a,m,v,y,b,k,D=e._slotted.default,M={},w=!t.trigger&&ie(0,t),O={month:t.month,year:t.year,start:t.start,end:t.end,canIncrementMonth:t.canIncrementMonth,canDecrementMonth:t.canDecrementMonth},S=new G({root:e.root,store:e.store,data:O});S.on("monthSelected",function(t){e.changeMonth(t)}),S.on("incrementMonth",function(t){e.incrementMonth(t)});for(var C=t.dayDict,N=[],x=0;x<C.length;x+=1)N[x]=re(0,ne(t,C,x));var T={visibleMonth:t.visibleMonth,selected:t.selected,highlighted:t.highlighted,shakeDate:t.shakeDate,start:t.start,end:t.end},H=new q({root:e.root,store:e.store,data:T});H.on("dateSelected",function(t){e.registerSelection(t)});var I={trigger:t.trigger};void 0!==t.isOpen&&(I.open=t.isOpen,M.open=!0),void 0!==t.isClosing&&(I.shrink=t.isClosing,M.shrink=!0);var Y=new $({root:e.root,store:e.store,slots:{default:u(),contents:u(),trigger:u()},data:I,_bind:function(t,n){var i={};!M.open&&t.open&&(i.isOpen=n.open),!M.shrink&&t.shrink&&(i.isClosing=n.shrink),e._set(i),M={}}});return e.root._beforecreate.push(function(){Y._bind({open:1,shrink:1},Y.get())}),Y.on("opened",function(t){e.registerOpen(t)}),Y.on("closed",function(t){e.registerClose(t)}),e.refs.popover=Y,{c:function(){n=f("div"),i=f("div"),D||w&&w.c(),r=g("\r\n    "),a=f("div"),m=f("div"),S._fragment.c(),v=g("\r\n        "),y=f("div");for(var e=0;e<N.length;e+=1)N[e].c();b=g("\r\n        "),H._fragment.c(),Y._fragment.c(),p(i,"slot","trigger"),i.className="svelte-5nhzsm",y.className="legend svelte-5nhzsm",m.className="calendar svelte-5nhzsm",p(a,"slot","contents"),a.className="svelte-5nhzsm",n.className="datepicker svelte-5nhzsm",_(n,"open",t.isOpen),_(n,"closing",t.isClosing)},m:function(e,t){h(e,n,t),s(Y._slotted.trigger,i),D?s(i,D):w&&w.m(i,null),s(Y._slotted.default,r),s(Y._slotted.contents,a),s(a,m),S._mount(m,null),s(m,v),s(m,y);for(var o=0;o<N.length;o+=1)N[o].m(y,null);s(m,b),H._mount(m,null),Y._mount(n,null),k=!0},p:function(e,r){t=r,D||(t.trigger?w&&(w.d(1),w=null):w?w.p(e,t):((w=ie(0,t)).c(),w.m(i,null)));var o={};if(e.month&&(o.month=t.month),e.year&&(o.year=t.year),e.start&&(o.start=t.start),e.end&&(o.end=t.end),e.canIncrementMonth&&(o.canIncrementMonth=t.canIncrementMonth),e.canDecrementMonth&&(o.canDecrementMonth=t.canDecrementMonth),S._set(o),e.dayDict){C=t.dayDict;for(var a=0;a<C.length;a+=1){var s=ne(t,C,a);N[a]?N[a].p(e,s):(N[a]=re(0,s),N[a].c(),N[a].m(y,null))}for(;a<N.length;a+=1)N[a].d(1);N.length=C.length}var h={};e.visibleMonth&&(h.visibleMonth=t.visibleMonth),e.selected&&(h.selected=t.selected),e.highlighted&&(h.highlighted=t.highlighted),e.shakeDate&&(h.shakeDate=t.shakeDate),e.start&&(h.start=t.start),e.end&&(h.end=t.end),H._set(h);var c={};e.trigger&&(c.trigger=t.trigger),!M.open&&e.isOpen&&(c.open=t.isOpen,M.open=void 0!==t.isOpen),!M.shrink&&e.isClosing&&(c.shrink=t.isClosing,M.shrink=void 0!==t.isClosing),Y._set(c),M={},e.isOpen&&_(n,"open",t.isOpen),e.isClosing&&_(n,"closing",t.isClosing)},i:function(e,t){k||this.m(e,t)},o:function(e){k&&(e=o(e,3),S&&S._fragment.o(e),H&&H._fragment.o(e),Y&&Y._fragment.o(e),k=!1)},d:function(t){t?(c(n),w&&w.d()):l(i,D),S.destroy(),d(N,t),H.destroy(),Y.destroy(),e.refs.popover===Y&&(e.refs.popover=null)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this.get().selected;this.set({month:e.getMonth(),year:e.getFullYear()})}).call(n),n.fire("update",{changed:r({},n._state),current:n._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),D(this)),this._intro=!0}return i(oe.prototype,O),i(oe.prototype,te),oe.prototype._recompute=function(e,t){(e.start||e.end||e.selectableCallback)&&this._differs(t.months,t.months=ee(t))&&(e.months=!0),(e.month||e.year||e.months)&&this._differs(t.monthIndex,t.monthIndex=function(e){for(var t=e.month,n=e.year,i=e.months,r=0;r<i.length;++r)if(i[r].month==t&&i[r].year==n)return r;return 0}(t))&&(e.monthIndex=!0),(e.monthIndex||e.months)&&this._differs(t.visibleMonth,t.visibleMonth=function(e){var t=e.monthIndex;return e.months[t]}(t))&&(e.visibleMonth=!0),e.visibleMonth&&(this._differs(t.lastVisibleDate,t.lastVisibleDate=function(e){var t=e.visibleMonth;return t.weeks[t.weeks.length-1].days[6].date}(t))&&(e.lastVisibleDate=!0),this._differs(t.firstVisibleDate,t.firstVisibleDate=t.visibleMonth.weeks[0].days[0].date)&&(e.firstVisibleDate=!0)),(e.monthIndex||e.months)&&(this._differs(t.canIncrementMonth,t.canIncrementMonth=function(e){return e.monthIndex<e.months.length-1}(t))&&(e.canIncrementMonth=!0),this._differs(t.canDecrementMonth,t.canDecrementMonth=function(e){var t=e.monthIndex;return e.months,t>0}(t))&&(e.canDecrementMonth=!0)),(e.selected||e.format)&&this._differs(t.formattedSelected,t.formattedSelected=function(e){var t=e.selected,n=e.format;return z(t,n)}(t))&&(e.formattedSelected=!0)},t(),oe}();
//# sourceMappingURL=bundle.js.map
